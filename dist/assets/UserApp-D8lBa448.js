import{r as y,j as e,N as K,u as Et,O as $t,L as Xe,g as Ft,a as Ot,b as ue,R as _t,c as M}from"./index-C6dhnHeO.js";import{p as ke,c as E,A as he,m as A,L as Se,E as re,a as ie,S as Tt,P as ne,b as oe,M as xe,d as et,e as Ce,f as Dt,g as It,v as Mt,h as X,T as Lt,i as Rt,X as Oe,j as tt,C as zt,k as Ut,U as qt,B as Vt,l as st,n as Bt}from"./localOrders-W0np38Sy.js";const at=y.createContext(void 0),U=()=>{const a=y.useContext(at);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},Gt=({children:a})=>{const[t,s]=y.useState(null);y.useEffect(()=>{const c=localStorage.getItem("bever_user");if(c)try{const o=JSON.parse(c);s(o)}catch(o){console.error("Error parsing saved user data:",o),localStorage.removeItem("bever_user")}},[]);const n={user:t,login:c=>{s(c),localStorage.setItem("bever_user",JSON.stringify(c))},logout:()=>{s(null),localStorage.removeItem("bever_user"),localStorage.removeItem("bever_pin"),localStorage.removeItem("bever_cart")},updateUser:c=>{if(t){const o={...t,...c};s(o),localStorage.setItem("bever_user",JSON.stringify(o))}},isAuthenticated:!!t};return e.jsx(at.Provider,{value:n,children:a})},rt=y.createContext(void 0),_e=()=>{const a=y.useContext(rt);if(a===void 0)throw new Error("usePin must be used within a PinProvider");return a},Wt=({children:a})=>{const{user:t,updateUser:s}=U(),[r,i]=y.useState(!1);y.useEffect(()=>{if(t){const d=!!localStorage.getItem(`bever_pin_${t.id}`);i(d),t.hasPin!==d&&s({hasPin:d})}else i(!1)},[t,s]);const l=p=>{t&&p.length>=4&&p.length<=6&&(localStorage.setItem(`bever_pin_${t.id}`,p),i(!0),s({hasPin:!0}))},n=p=>t?localStorage.getItem(`bever_pin_${t.id}`)===p:!1,u={hasPin:r,isSettingRequired:!!(t&&!r),setPin:l,verifyPin:n,changePin:(p,d)=>!t||!n(p)||d.length<4||d.length>6?!1:(localStorage.setItem(`bever_pin_${t.id}`,d),!0),clearPin:()=>{t&&(localStorage.removeItem(`bever_pin_${t.id}`),i(!1),s({hasPin:!1}))}};return e.jsx(rt.Provider,{value:u,children:a})},it=y.createContext(void 0),te=()=>{const a=y.useContext(it);if(a===void 0)throw new Error("useCart must be used within a CartProvider");return a},Jt=({children:a})=>{const{user:t}=U(),[s,r]=y.useState([]);y.useEffect(()=>{if(t){const d=localStorage.getItem(`bever_cart_${t.id}`);if(d)try{r(JSON.parse(d))}catch(f){console.error("Error parsing saved cart:",f)}}else r([])},[t]),y.useEffect(()=>{t&&localStorage.setItem(`bever_cart_${t.id}`,JSON.stringify(s))},[s,t]);const i=(d,f=1)=>{const g=ke.find(x=>x.id===d);g&&r(x=>x.find(w=>w.productId===d)?x.map(w=>w.productId===d?{...w,quantity:w.quantity+f}:w):[...x,{productId:d,quantity:f,price:g.price}])},l=d=>{r(f=>f.filter(g=>g.productId!==d))},p={items:s,addItem:i,removeItem:l,updateQuantity:(d,f)=>{if(f<=0){l(d);return}r(g=>g.map(x=>x.productId===d?{...x,quantity:f}:x))},clearCart:()=>{r([])},getTotalItems:()=>s.reduce((d,f)=>d+f.quantity,0),getTotalPrice:()=>s.reduce((d,f)=>d+f.price*f.quantity,0),getCartItemsWithDetails:()=>s.map(d=>({...d,product:ke.find(f=>f.id===d.productId)}))};return e.jsx(it.Provider,{value:p,children:a})},Ht=({children:a})=>{const{isAuthenticated:t}=U();return t?e.jsx(e.Fragment,{children:a}):e.jsx(K,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=E("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=E("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=E("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=E("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=E("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=E("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=E("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=E("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=E("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=E("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=E("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=E("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=E("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=E("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=E("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=E("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=E("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=E("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=E("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=E("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=E("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=E("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=E("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ds=({isOpen:a})=>{const{setPin:t}=_e(),[s,r]=y.useState(""),[i,l]=y.useState(""),[n,c]=y.useState(!1),[o,m]=y.useState(""),[u,p]=y.useState("create"),d=x=>{x.length<=6&&/^\d*$/.test(x)&&(u==="create"?(r(x),m("")):(l(x),m("")))},f=()=>{if(u==="create"){if(s.length<4){m("PIN must be at least 4 digits");return}p("confirm")}else{if(s!==i){m("PINs do not match");return}t(s)}},g=()=>{p("create"),l(""),m("")};return e.jsx(he,{children:a&&e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Se,{className:"w-8 h-8 text-accent"})}),e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:u==="create"?"Create Transaction PIN":"Confirm PIN"}),e.jsx("p",{className:"text-primary-600",children:u==="create"?"Set up a 4-6 digit PIN to secure your transactions":"Please confirm your PIN"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:u==="create"?s:i,onChange:x=>d(x.target.value),placeholder:u==="create"?"Enter PIN":"Confirm PIN",className:"input-field text-center text-2xl tracking-widest pr-12",maxLength:6,autoFocus:!0}),e.jsx("button",{type:"button",onClick:()=>c(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-primary-400 hover:text-primary-600",children:n?e.jsx(re,{className:"w-5 h-5"}):e.jsx(ie,{className:"w-5 h-5"})})]}),o&&e.jsx(A.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm text-center",children:o}),e.jsxs("div",{className:"flex gap-3",children:[u==="confirm"&&e.jsx("button",{onClick:g,className:"btn-secondary flex-1",children:"Back"}),e.jsx("button",{onClick:f,disabled:u==="create"?s.length<4:i.length<4,className:"btn-primary flex-1",children:u==="create"?"Continue":"Set PIN"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-primary-500",children:"Your PIN is stored securely and is required for all transactions"})})]})})})},ms=()=>{const a=Et(),{getTotalItems:t}=te(),s=t(),r=[{path:"/home",icon:rs,label:"Home"},{path:"/cart",icon:Tt,label:"Cart",badge:s},{path:"/orders",icon:ne,label:"Orders"},{path:"/profile",icon:Te,label:"Profile"}],i=l=>a.pathname===l;return e.jsxs("div",{className:"min-h-screen bg-primary-50",children:[e.jsx("main",{className:"pb-20",children:e.jsx($t,{})}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-primary-200 px-4 py-2 z-40",children:e.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:r.map(({path:l,icon:n,label:c,badge:o})=>{const m=o??0;return e.jsxs(Xe,{to:l,className:"relative flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:`w-6 h-6 transition-colors duration-200 ${i(l)?"text-primary-950":"text-primary-400"}`}),m>0&&e.jsx(A.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:m>99?"99+":m})]}),e.jsx("span",{className:`text-xs mt-1 transition-colors duration-200 ${i(l)?"text-primary-950 font-medium":"text-primary-400"}`,children:c}),i(l)&&e.jsx(A.div,{layoutId:"activeTab",className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-primary-950 rounded-full"})]},l)})})})]})};function H(a){this._maxSize=a,this.clear()}H.prototype.clear=function(){this._size=0,this._values=Object.create(null)};H.prototype.get=function(a){return this._values[a]};H.prototype.set=function(a,t){return this._size>=this._maxSize&&this.clear(),a in this._values||this._size++,this._values[a]=t};var us=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ct=/^\d+$/,hs=/^\d/,xs=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,ps=/^\s*(['"]?)(.*?)(\1)\s*$/,De=512,Ge=new H(De),We=new H(De),Je=new H(De),J={Cache:H,split:Ee,normalizePath:je,setter:function(a){var t=je(a);return We.get(a)||We.set(a,function(r,i){for(var l=0,n=t.length,c=r;l<n-1;){var o=t[l];if(o==="__proto__"||o==="constructor"||o==="prototype")return r;c=c[t[l++]]}c[t[l]]=i})},getter:function(a,t){var s=je(a);return Je.get(a)||Je.set(a,function(i){for(var l=0,n=s.length;l<n;)if(i!=null||!t)i=i[s[l++]];else return;return i})},join:function(a){return a.reduce(function(t,s){return t+(Ie(s)||ct.test(s)?"["+s+"]":(t?".":"")+s)},"")},forEach:function(a,t,s){fs(Array.isArray(a)?a:Ee(a),t,s)}};function je(a){return Ge.get(a)||Ge.set(a,Ee(a).map(function(t){return t.replace(ps,"$2")}))}function Ee(a){return a.match(us)||[""]}function fs(a,t,s){var r=a.length,i,l,n,c;for(l=0;l<r;l++)i=a[l],i&&(gs(i)&&(i='"'+i+'"'),c=Ie(i),n=!c&&/^\d+$/.test(i),t.call(s,i,c,n,l,a))}function Ie(a){return typeof a=="string"&&a&&["'",'"'].indexOf(a.charAt(0))!==-1}function ys(a){return a.match(hs)&&!a.match(ct)}function bs(a){return xs.test(a)}function gs(a){return!Ie(a)&&(ys(a)||bs(a))}const js=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,pe=a=>a.match(js)||[],fe=a=>a[0].toUpperCase()+a.slice(1),Me=(a,t)=>pe(a).join(t).toLowerCase(),ot=a=>pe(a).reduce((t,s)=>`${t}${t?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,""),vs=a=>fe(ot(a)),Ns=a=>Me(a,"_"),ws=a=>Me(a,"-"),ks=a=>fe(Me(a," ")),Ss=a=>pe(a).map(fe).join(" ");var ve={words:pe,upperFirst:fe,camelCase:ot,pascalCase:vs,snakeCase:Ns,kebabCase:ws,sentenceCase:ks,titleCase:Ss},Le={exports:{}};Le.exports=function(a){return dt(Cs(a),a)};Le.exports.array=dt;function dt(a,t){var s=a.length,r=new Array(s),i={},l=s,n=Ps(t),c=As(a);for(t.forEach(function(m){if(!c.has(m[0])||!c.has(m[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});l--;)i[l]||o(a[l],l,new Set);return r;function o(m,u,p){if(p.has(m)){var d;try{d=", node was:"+JSON.stringify(m)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!c.has(m))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(m));if(!i[u]){i[u]=!0;var f=n.get(m)||new Set;if(f=Array.from(f),u=f.length){p.add(m);do{var g=f[--u];o(g,c.get(g),p)}while(u);p.delete(m)}r[--s]=m}}}function Cs(a){for(var t=new Set,s=0,r=a.length;s<r;s++){var i=a[s];t.add(i[0]),t.add(i[1])}return Array.from(t)}function Ps(a){for(var t=new Map,s=0,r=a.length;s<r;s++){var i=a[s];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function As(a){for(var t=new Map,s=0,r=a.length;s<r;s++)t.set(a[s],s);return t}var Es=Le.exports;const $s=Ft(Es),Fs=Object.prototype.toString,Os=Error.prototype.toString,_s=RegExp.prototype.toString,Ts=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Ds=/^Symbol\((.*)\)(.*)$/;function Is(a){return a!=+a?"NaN":a===0&&1/a<0?"-0":""+a}function He(a,t=!1){if(a==null||a===!0||a===!1)return""+a;const s=typeof a;if(s==="number")return Is(a);if(s==="string")return t?`"${a}"`:a;if(s==="function")return"[Function "+(a.name||"anonymous")+"]";if(s==="symbol")return Ts.call(a).replace(Ds,"Symbol($1)");const r=Fs.call(a).slice(8,-1);return r==="Date"?isNaN(a.getTime())?""+a:a.toISOString(a):r==="Error"||a instanceof Error?"["+Os.call(a)+"]":r==="RegExp"?_s.call(a):null}function q(a,t){let s=He(a,t);return s!==null?s:JSON.stringify(a,function(r,i){let l=He(this[r],t);return l!==null?l:i},2)}function mt(a){return a==null?[]:[].concat(a)}let ut,ht,xt,Ms=/\$\{\s*(\w+)\s*\}/g;ut=Symbol.toStringTag;class Ye{constructor(t,s,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ut]="Error",this.name="ValidationError",this.value=s,this.path=r,this.type=i,this.errors=[],this.inner=[],mt(t).forEach(l=>{if(T.isError(l)){this.errors.push(...l.errors);const n=l.inner.length?l.inner:[l];this.inner.push(...n)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ht=Symbol.hasInstance;xt=Symbol.toStringTag;class T extends Error{static formatError(t,s){const r=s.label||s.path||"this";return s=Object.assign({},s,{path:r,originalPath:s.path}),typeof t=="string"?t.replace(Ms,(i,l)=>q(s[l])):typeof t=="function"?t(s):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,s,r,i,l){const n=new Ye(t,s,r,i);if(l)return n;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[xt]="Error",this.name=n.name,this.message=n.message,this.type=n.type,this.value=n.value,this.path=n.path,this.errors=n.errors,this.inner=n.inner,Error.captureStackTrace&&Error.captureStackTrace(this,T)}static[ht](t){return Ye[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let L={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:a,type:t,value:s,originalValue:r})=>{const i=r!=null&&r!==s?` (cast from the value \`${q(r,!0)}\`).`:".";return t!=="mixed"?`${a} must be a \`${t}\` type, but the final value was: \`${q(s,!0)}\``+i:`${a} must match the configured type. The validated value was: \`${q(s,!0)}\``+i}},I={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ls={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},$e={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Rs={isValue:"${path} field must be ${value}"},le={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},zs={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Us={notType:a=>{const{path:t,value:s,spec:r}=a,i=r.types.length;if(Array.isArray(s)){if(s.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${s.length} for value: \`${q(s,!0)}\``;if(s.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${s.length} for value: \`${q(s,!0)}\``}return T.formatError(L.notType,a)}};Object.assign(Object.create(null),{mixed:L,string:I,number:Ls,date:$e,object:le,array:zs,boolean:Rs,tuple:Us});const Re=a=>a&&a.__isYupSchema__;class de{static fromOptions(t,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:l}=s,n=typeof r=="function"?r:(...c)=>c.every(o=>o===r);return new de(t,(c,o)=>{var m;let u=n(...c)?i:l;return(m=u==null?void 0:u(o))!=null?m:o})}constructor(t,s){this.fn=void 0,this.refs=t,this.refs=t,this.fn=s}resolve(t,s){let r=this.refs.map(l=>l.getValue(s==null?void 0:s.value,s==null?void 0:s.parent,s==null?void 0:s.context)),i=this.fn(r,t,s);if(i===void 0||i===t)return t;if(!Re(i))throw new TypeError("conditions must return a schema object");return i.resolve(s)}}const ae={context:"$",value:"."};function qs(a,t){return new V(a,t)}class V{constructor(t,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ae.context,this.isValue=this.key[0]===ae.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ae.context:this.isValue?ae.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&J.getter(this.path,!0),this.map=s.map}getValue(t,s,r){let i=this.isContext?r:this.isValue?t:s;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,s){return this.getValue(t,s==null?void 0:s.parent,s==null?void 0:s.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}V.prototype.__isYupRef=!0;const G=a=>a==null;function Y(a){function t({value:s,path:r="",options:i,originalValue:l,schema:n},c,o){const{name:m,test:u,params:p,message:d,skipAbsent:f}=a;let{parent:g,context:x,abortEarly:S=n.spec.abortEarly,disableStackTrace:w=n.spec.disableStackTrace}=i;const C={value:s,parent:g,context:x};function b(N={}){const F=pt(Object.assign({value:s,originalValue:l,label:n.spec.label,path:N.path||r,spec:n.spec,disableStackTrace:N.disableStackTrace||w},p,N.params),C),D=new T(T.formatError(N.message||d,F),s,F.path,N.type||m,F.disableStackTrace);return D.params=F,D}const v=S?c:o;let P={path:r,parent:g,type:m,from:i.from,createError:b,resolve(N){return ft(N,C)},options:i,originalValue:l,schema:n};const _=N=>{T.isError(N)?v(N):N?o(null):v(b())},$=N=>{T.isError(N)?v(N):c(N)};if(f&&G(s))return _(!0);let h;try{var j;if(h=u.call(P,s,P),typeof((j=h)==null?void 0:j.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(h).then(_,$)}}catch(N){$(N);return}_(h)}return t.OPTIONS=a,t}function pt(a,t){if(!a)return a;for(const s of Object.keys(a))a[s]=ft(a[s],t);return a}function ft(a,t){return V.isRef(a)?a.getValue(t.value,t.parent,t.context):a}function Vs(a,t,s,r=s){let i,l,n;return t?(J.forEach(t,(c,o,m)=>{let u=o?c.slice(1,c.length-1):c;a=a.resolve({context:r,parent:i,value:s});let p=a.type==="tuple",d=m?parseInt(u,10):0;if(a.innerType||p){if(p&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${n}" must contain an index to the tuple element, e.g. "${n}[0]"`);if(s&&d>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);i=s,s=s&&s[d],a=p?a.spec.types[d]:a.innerType}if(!m){if(!a.fields||!a.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${n} which is a type: "${a.type}")`);i=s,s=s&&s[u],a=a.fields[u]}l=u,n=o?"["+c+"]":"."+c}),{schema:a,parent:i,parentPath:l}):{parent:i,parentPath:t,schema:a}}class me extends Set{describe(){const t=[];for(const s of this.values())t.push(V.isRef(s)?s.describe():s);return t}resolveAll(t){let s=[];for(const r of this.values())s.push(t(r));return s}clone(){return new me(this.values())}merge(t,s){const r=this.clone();return t.forEach(i=>r.add(i)),s.forEach(i=>r.delete(i)),r}}function Q(a,t=new Map){if(Re(a)||!a||typeof a!="object")return a;if(t.has(a))return t.get(a);let s;if(a instanceof Date)s=new Date(a.getTime()),t.set(a,s);else if(a instanceof RegExp)s=new RegExp(a),t.set(a,s);else if(Array.isArray(a)){s=new Array(a.length),t.set(a,s);for(let r=0;r<a.length;r++)s[r]=Q(a[r],t)}else if(a instanceof Map){s=new Map,t.set(a,s);for(const[r,i]of a.entries())s.set(r,Q(i,t))}else if(a instanceof Set){s=new Set,t.set(a,s);for(const r of a)s.add(Q(r,t))}else if(a instanceof Object){s={},t.set(a,s);for(const[r,i]of Object.entries(a))s[r]=Q(i,t)}else throw Error(`Unable to clone ${a}`);return s}function Bs(a){if(!(a!=null&&a.length))return;const t=[];let s="",r=!1,i=!1;for(let l=0;l<a.length;l++){const n=a[l];if(n==="["&&!i){s&&(t.push(...s.split(".").filter(Boolean)),s=""),r=!0;continue}if(n==="]"&&!i){s&&(/^\d+$/.test(s)?t.push(s):t.push(s.replace(/^"|"$/g,"")),s=""),r=!1;continue}if(n==='"'){i=!i;continue}if(n==="."&&!r&&!i){s&&(t.push(s),s="");continue}s+=n}return s&&t.push(...s.split(".").filter(Boolean)),t}function Gs(a,t){const s=t?`${t}.${a.path}`:a.path;return a.errors.map(r=>({message:r,path:Bs(s)}))}function yt(a,t){var s;if(!((s=a.inner)!=null&&s.length)&&a.errors.length)return Gs(a,t);const r=t?`${t}.${a.path}`:a.path;return a.inner.flatMap(i=>yt(i,r))}class R{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new me,this._blacklist=new me,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(L.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=Q(Object.assign({},this.spec,t)),s}label(t){let s=this.clone();return s.spec.label=t,s}meta(...t){if(t.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},t[0]),s}withMutation(t){let s=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=s,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let s=this,r=t.clone();const i=Object.assign({},s.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},s.internalTests,r.internalTests),r._whitelist=s._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=s._blacklist.merge(t._blacklist,t._whitelist),r.tests=s.tests,r.exclusiveTests=s.exclusiveTests,r.withMutation(l=>{t.tests.forEach(n=>{l.test(n.OPTIONS)})}),r.transforms=[...s.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let s=this;if(s.conditions.length){let r=s.conditions;s=s.clone(),s.conditions=[],s=r.reduce((i,l)=>l.resolve(i,t),s),s=s.resolve(t)}return s}resolveOptions(t){var s,r,i,l;return Object.assign({},t,{from:t.from||[],strict:(s=t.strict)!=null?s:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(l=t.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(t,s={}){let r=this.resolve(Object.assign({},s,{value:t})),i=s.assert==="ignore-optionality",l=r._cast(t,s);if(s.assert!==!1&&!r.isType(l)){if(i&&G(l))return l;let n=q(t),c=q(l);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${n} 
`+(c!==n?`result of cast: ${c}`:""))}return l}_cast(t,s){let r=t===void 0?t:this.transforms.reduce((i,l)=>l.call(this,i,t,this,s),t);return r===void 0&&(r=this.getDefault(s)),r}_validate(t,s={},r,i){let{path:l,originalValue:n=t,strict:c=this.spec.strict}=s,o=t;c||(o=this._cast(o,Object.assign({assert:!1},s)));let m=[];for(let u of Object.values(this.internalTests))u&&m.push(u);this.runTests({path:l,value:o,originalValue:n,options:s,tests:m},r,u=>{if(u.length)return i(u,o);this.runTests({path:l,value:o,originalValue:n,options:s,tests:this.tests},r,i)})}runTests(t,s,r){let i=!1,{tests:l,value:n,originalValue:c,path:o,options:m}=t,u=x=>{i||(i=!0,s(x,n))},p=x=>{i||(i=!0,r(x,n))},d=l.length,f=[];if(!d)return p([]);let g={value:n,originalValue:c,path:o,options:m,schema:this};for(let x=0;x<l.length;x++){const S=l[x];S(g,u,function(C){C&&(Array.isArray(C)?f.push(...C):f.push(C)),--d<=0&&p(f)})}}asNestedTest({key:t,index:s,parent:r,parentPath:i,originalParent:l,options:n}){const c=t??s;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const o=typeof c=="number";let m=r[c];const u=Object.assign({},n,{strict:!0,parent:r,value:m,originalValue:l[c],key:void 0,[o?"index":"key"]:c,path:o||c.includes(".")?`${i||""}[${o?c:`"${c}"`}]`:(i?`${i}.`:"")+t});return(p,d,f)=>this.resolve(u)._validate(m,u,d,f)}validate(t,s){var r;let i=this.resolve(Object.assign({},s,{value:t})),l=(r=s==null?void 0:s.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((n,c)=>i._validate(t,s,(o,m)=>{T.isError(o)&&(o.value=m),c(o)},(o,m)=>{o.length?c(new T(o,m,void 0,void 0,l)):n(m)}))}validateSync(t,s){var r;let i=this.resolve(Object.assign({},s,{value:t})),l,n=(r=s==null?void 0:s.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},s,{sync:!0}),(c,o)=>{throw T.isError(c)&&(c.value=o),c},(c,o)=>{if(c.length)throw new T(c,t,void 0,void 0,n);l=o}),l}isValid(t,s){return this.validate(t,s).then(()=>!0,r=>{if(T.isError(r))return!1;throw r})}isValidSync(t,s){try{return this.validateSync(t,s),!0}catch(r){if(T.isError(r))return!1;throw r}}_getDefault(t){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,t):Q(s)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,s){const r=this.clone({nullable:t});return r.internalTests.nullable=Y({message:s,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,s){const r=this.clone({optional:t});return r.internalTests.optionality=Y({message:s,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=L.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=L.notNull){return this.nullability(!1,t)}required(t=L.required){return this.clone().withMutation(s=>s.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let s=this.clone();return s.transforms.push(t),s}test(...t){let s;if(t.length===1?typeof t[0]=="function"?s={test:t[0]}:s=t[0]:t.length===2?s={name:t[0],test:t[1]}:s={name:t[0],message:t[1],test:t[2]},s.message===void 0&&(s.message=L.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Y(s),l=s.exclusive||s.name&&r.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(r.exclusiveTests[s.name]=!!s.exclusive),r.tests=r.tests.filter(n=>!(n.OPTIONS.name===s.name&&(l||n.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,s){!Array.isArray(t)&&typeof t!="string"&&(s=t,t=".");let r=this.clone(),i=mt(t).map(l=>new V(l));return i.forEach(l=>{l.isSibling&&r.deps.push(l.key)}),r.conditions.push(typeof s=="function"?new de(i,s):de.fromOptions(i,s)),r}typeError(t){let s=this.clone();return s.internalTests.typeError=Y({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(t,s=L.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Y({message:s,name:"oneOf",skipAbsent:!0,test(i){let l=this.schema._whitelist,n=l.resolveAll(this.resolve);return n.includes(i)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:n}})}}),r}notOneOf(t,s=L.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Y({message:s,name:"notOneOf",test(i){let l=this.schema._blacklist,n=l.resolveAll(this.resolve);return n.includes(i)?this.createError({params:{values:Array.from(l).join(", "),resolved:n}}):!0}}),r}strip(t=!0){let s=this.clone();return s.spec.strip=t,s}describe(t){const s=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:l,nullable:n}=s.spec;return{meta:i,label:r,optional:l,nullable:n,default:s.getDefault(t),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.filter((o,m,u)=>u.findIndex(p=>p.OPTIONS.name===o.OPTIONS.name)===m).map(o=>{const m=o.OPTIONS.params&&t?pt(Object.assign({},o.OPTIONS.params),t):o.OPTIONS.params;return{name:o.OPTIONS.name,params:m}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await t.validate(r,{abortEarly:!1})}}catch(i){if(i instanceof T)return{issues:yt(i)};throw i}}}}}R.prototype.__isYupSchema__=!0;for(const a of["validate","validateSync"])R.prototype[`${a}At`]=function(t,s,r={}){const{parent:i,parentPath:l,schema:n}=Vs(this,t,s,r.context);return n[a](i&&i[l],Object.assign({},r,{parent:i,path:t}))};for(const a of["equals","is"])R.prototype[a]=R.prototype.oneOf;for(const a of["not","nope"])R.prototype[a]=R.prototype.notOneOf;const Ws=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Js(a){const t=Fe(a);if(!t)return Date.parse?Date.parse(a):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let s=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(s=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(s=0-s)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+s,t.second,t.millisecond)}function Fe(a){var t,s;const r=Ws.exec(a);return r?{year:z(r[1]),month:z(r[2],1)-1,day:z(r[3],1),hour:z(r[4]),minute:z(r[5]),second:z(r[6]),millisecond:r[7]?z(r[7].substring(0,3)):0,precision:(t=(s=r[7])==null?void 0:s.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:z(r[10]),minuteOffset:z(r[11])}:null}function z(a,t=0){return Number(a)||t}let Hs=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ys=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Zs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Qs="^\\d{4}-\\d{2}-\\d{2}",Ks="\\d{2}:\\d{2}:\\d{2}",Xs="(([+-]\\d{2}(:?\\d{2})?)|Z)",ea=new RegExp(`${Qs}T${Ks}(\\.\\d+)?${Xs}$`),ta=a=>G(a)||a===a.trim(),sa={}.toString();function W(){return new bt}class bt extends R{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,s)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===sa?t:r})})}required(t){return super.required(t).withMutation(s=>s.test({message:t||L.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(s=>s.OPTIONS.name!=="required"),t))}length(t,s=I.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,s=I.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,s=I.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,s){let r=!1,i,l;return s&&(typeof s=="object"?{excludeEmptyString:r=!1,message:i,name:l}=s:i=s),this.test({name:l||"matches",message:i||I.matches,params:{regex:t},skipAbsent:!0,test:n=>n===""&&r||n.search(t)!==-1})}email(t=I.email){return this.matches(Hs,{name:"email",message:t,excludeEmptyString:!0})}url(t=I.url){return this.matches(Ys,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=I.uuid){return this.matches(Zs,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let s="",r,i;return t&&(typeof t=="object"?{message:s="",allowOffset:r=!1,precision:i=void 0}=t:s=t),this.matches(ea,{name:"datetime",message:s||I.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||I.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:l=>{if(!l||r)return!0;const n=Fe(l);return n?!!n.z:!1}}).test({name:"datetime_precision",message:s||I.datetime_precision,params:{precision:i},skipAbsent:!0,test:l=>{if(!l||i==null)return!0;const n=Fe(l);return n?n.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=I.trim){return this.transform(s=>s!=null?s.trim():s).test({message:t,name:"trim",test:ta})}lowercase(t=I.lowercase){return this.transform(s=>G(s)?s:s.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>G(s)||s===s.toLowerCase()})}uppercase(t=I.uppercase){return this.transform(s=>G(s)?s:s.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>G(s)||s===s.toUpperCase()})}}W.prototype=bt.prototype;let aa=new Date(""),ra=a=>Object.prototype.toString.call(a)==="[object Date]";class ze extends R{constructor(){super({type:"date",check(t){return ra(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,s)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=Js(t),isNaN(t)?ze.INVALID_DATE:new Date(t)))})}prepareParam(t,s){let r;if(V.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,s=$e.min){let r=this.prepareParam(t,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,s=$e.max){let r=this.prepareParam(t,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}ze.INVALID_DATE=aa;function ia(a,t=[]){let s=[],r=new Set,i=new Set(t.map(([n,c])=>`${n}-${c}`));function l(n,c){let o=J.split(n)[0];r.add(o),i.has(`${c}-${o}`)||s.push([c,o])}for(const n of Object.keys(a)){let c=a[n];r.add(n),V.isRef(c)&&c.isSibling?l(c.path,n):Re(c)&&"deps"in c&&c.deps.forEach(o=>l(o,n))}return $s.array(Array.from(r),s).reverse()}function Ze(a,t){let s=1/0;return a.some((r,i)=>{var l;if((l=t.path)!=null&&l.includes(r))return s=i,!0}),s}function gt(a){return(t,s)=>Ze(a,t)-Ze(a,s)}const na=(a,t,s)=>{if(typeof a!="string")return a;let r=a;try{r=JSON.parse(a)}catch{}return s.isType(r)?r:a};function ce(a){if("fields"in a){const t={};for(const[s,r]of Object.entries(a.fields))t[s]=ce(r);return a.setFields(t)}if(a.type==="array"){const t=a.optional();return t.innerType&&(t.innerType=ce(t.innerType)),t}return a.type==="tuple"?a.optional().clone({types:a.spec.types.map(ce)}):"optional"in a?a.optional():a}const la=(a,t)=>{const s=[...J.normalizePath(t)];if(s.length===1)return s[0]in a;let r=s.pop(),i=J.getter(J.join(s),!0)(a);return!!(i&&r in i)};let Qe=a=>Object.prototype.toString.call(a)==="[object Object]";function Ke(a,t){let s=Object.keys(a.fields);return Object.keys(t).filter(r=>s.indexOf(r)===-1)}const ca=gt([]);function Ue(a){return new jt(a)}class jt extends R{constructor(t){super({type:"object",check(s){return Qe(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=ca,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,s={}){var r;let i=super._cast(t,s);if(i===void 0)return this.getDefault(s);if(!this._typeCheck(i))return i;let l=this.fields,n=(r=s.stripUnknown)!=null?r:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),o={},m=Object.assign({},s,{parent:o,__validating:s.__validating||!1}),u=!1;for(const p of c){let d=l[p],f=p in i,g=i[p];if(d){let x;m.path=(s.path?`${s.path}.`:"")+p,d=d.resolve({value:g,context:s.context,parent:o});let S=d instanceof R?d.spec:void 0,w=S==null?void 0:S.strict;if(S!=null&&S.strip){u=u||p in i;continue}x=!s.__validating||!w?d.cast(g,m):g,x!==void 0&&(o[p]=x)}else f&&!n&&(o[p]=g);(f!==p in o||o[p]!==g)&&(u=!0)}return u?o:i}_validate(t,s={},r,i){let{from:l=[],originalValue:n=t,recursive:c=this.spec.recursive}=s;s.from=[{schema:this,value:n},...l],s.__validating=!0,s.originalValue=n,super._validate(t,s,r,(o,m)=>{if(!c||!Qe(m)){i(o,m);return}n=n||m;let u=[];for(let p of this._nodes){let d=this.fields[p];!d||V.isRef(d)||u.push(d.asNestedTest({options:s,key:p,parent:m,parentPath:s.path,originalParent:n}))}this.runTests({tests:u,value:m,originalValue:n,options:s},r,p=>{i(p.sort(this._sortErrors).concat(o),m)})})}clone(t){const s=super.clone(t);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(t){let s=super.concat(t),r=s.fields;for(let[i,l]of Object.entries(this.fields)){const n=r[i];r[i]=n===void 0?l:n}return s.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let s={};return this._nodes.forEach(r=>{var i;const l=this.fields[r];let n=t;(i=n)!=null&&i.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[r]})),s[r]=l&&"getDefault"in l?l.getDefault(n):void 0}),s}setFields(t,s){let r=this.clone();return r.fields=t,r._nodes=ia(t,s),r._sortErrors=gt(Object.keys(t)),s&&(r._excludedEdges=s),r}shape(t,s=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),i=[...r._excludedEdges,...s]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[s,r]of Object.entries(this.fields))t[s]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return ce(this)}pick(t){const s={};for(const r of t)this.fields[r]&&(s[r]=this.fields[r]);return this.setFields(s,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const s=[];for(const r of Object.keys(this.fields))t.includes(r)||s.push(r);return this.pick(s)}from(t,s,r){let i=J.getter(t,!0);return this.transform(l=>{if(!l)return l;let n=l;return la(l,t)&&(n=Object.assign({},l),r||delete n[t],n[s]=i(l)),n})}json(){return this.transform(na)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||le.exact,test(s){if(s==null)return!0;const r=Ke(this.schema,s);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,s=le.noUnknown){typeof t!="boolean"&&(s=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:s,test(i){if(i==null)return!0;const l=Ke(this.schema,i);return!t||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,s=le.noUnknown){return this.noUnknown(!t,s)}transformKeys(t){return this.transform(s=>{if(!s)return s;const r={};for(const i of Object.keys(s))r[t(i)]=s[i];return r})}camelCase(){return this.transformKeys(ve.camelCase)}snakeCase(){return this.transformKeys(ve.snakeCase)}constantCase(){return this.transformKeys(t=>ve.snakeCase(t).toUpperCase())}describe(t){const s=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[l,n]of Object.entries(s.fields)){var i;let c=t;(i=c)!=null&&i.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[l]})),r.fields[l]=n.describe(c)}return r}}Ue.prototype=jt.prototype;const oa=Ue().shape({email:W().email("Invalid email format").required("Email is required"),password:W().min(6,"Password must be at least 6 characters").required("Password is required")});Ue().shape({name:W().required("Name is required"),email:W().email("Invalid email format").required("Email is required"),password:W().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:W().oneOf([qs("password"),void 0],"Passwords must match").required("Confirm password is required")});const da="/api/auth",ma=async(a,t)=>{var s;try{return(await Ot.post(`${da}/login`,{identifier:a,password:t})).data}catch(r){throw((s=r.response)==null?void 0:s.data)||{message:"An error occurred"}}},ua=()=>{const a=ue(),{login:t}=U(),[s,r]=y.useState({identifier:"",password:""}),[i,l]=y.useState(!1),[n,c]=y.useState(""),o=u=>{const{name:p,value:d}=u.target;r(f=>({...f,[p]:d})),c("")},m=async u=>{u.preventDefault(),l(!0),c("");try{await oa.validate(s,{abortEarly:!1});const p=await ma(s.identifier,s.password);t(p.user),a("/home")}catch(p){p instanceof T?c(p.errors.join(", ")):p instanceof Error?c(p.message||"An error occurred during login"):c("An unexpected error occurred")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"pt-12 pb-8 px-6",children:e.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center justify-center gap-3 mb-2",children:[e.jsx("img",{src:"/favicon.png",alt:"Bever logo",className:"w-10 h-10 rounded-sm"}),e.jsx("h1",{className:"text-4xl font-bold text-primary-950",children:"Bever"})]}),e.jsx("p",{className:"text-primary-600",children:"Premium beverages delivered"})]})}),e.jsx("div",{className:"flex-1 px-6",children:e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-md mx-auto",children:[e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Phone Number or Username"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",name:"identifier",value:s.identifier,onChange:o,placeholder:"Enter your phone number or username",className:"input-field",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",name:"password",value:s.password,onChange:o,placeholder:"Enter your password",className:"input-field",required:!0})})]}),n&&e.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:e.jsx("p",{className:"text-red-600 text-sm",children:n})}),e.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?"Signing in...":"Sign In"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-primary-600",children:["Don't have an account?"," ",e.jsx(Xe,{to:"/register",className:"text-primary-950 font-medium hover:underline",children:"Register here"})]})})]})})]})},ha=[{name:"Abbare Yelwa",code:"JLG-W01",sub_areas:["Abbare","Kasuwan Yelwa","Sabongari","Tudun Wada"]},{name:"Barade",code:"JLG-W02",sub_areas:["Baraya","Dorowa","Pasli","Fan"]},{name:"Kachalla Sembe",code:"JLG-W03",sub_areas:["Kanbi","Kalanko","Murbai"]},{name:"Kona",code:"JLG-W04",sub_areas:["Kona Manga","Magani","Okona"]},{name:"Majidadi",code:"JLG-W05",sub_areas:["Jekadafari","Saurara","Petal"]},{name:"Mayo Goi",code:"JLG-W06",sub_areas:["Mayo Goi","Porni","Todiri"]},{name:"Sarkin Dawaki",code:"JLG-W07",sub_areas:["Sarkin Dawaki","Mallam Ali","Jauro Yeno"]},{name:"Sintali",code:"JLG-W08",sub_areas:["Sintali Ward","Iyabamuye","Hamdella"]},{name:"Turaki A",code:"JLG-W09",sub_areas:["Garin Kari","Mudibbo","Jauro Abba"]},{name:"Turaki B",code:"JLG-W10",sub_areas:["Garin Jalo","Jauro Awo","Pan"]}],Ne={wards:ha},xa=()=>{const a=ue(),{login:t}=U(),[s,r]=y.useState(1),[i,l]=y.useState(!1),[n,c]=y.useState({businessName:"",businessAddress:"",ward:"",subArea:"",customerCategory:"",phoneNumber:"",shopPhoto:null,isAtDeliveryLocation:"",latitude:null,longitude:null}),[o,m]=y.useState([]);y.useEffect(()=>{(async()=>{try{const v=await fetch("/api/categories");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const P=await v.json();console.log("Fetched categories:",P),m(P)}catch(v){console.error("Failed to fetch categories:",v)}})()},[]);const u=b=>{const{name:v,value:P}=b.target;c(_=>({..._,[v]:P})),v==="ward"&&c(_=>({..._,subArea:""}))},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(b=>{c(v=>({...v,latitude:b.coords.latitude,longitude:b.coords.longitude}))},b=>{console.error("Location access denied:",b),alert("We need your location to ensure precise delivery. Please enable location access in your browser settings.")}):alert("Geolocation is not supported by your browser.")},d=b=>{var P;const v=(P=b.target.files)==null?void 0:P[0];v&&c(_=>({..._,shopPhoto:v}))},f=()=>{const v=(Ne.wards.findIndex($=>$.name===n.ward)+1).toString().padStart(2,"0"),P=n.customerCategory==="Office"?"OF":n.customerCategory==="Provision Store"?"PS":"HM",_=Math.floor(Math.random()*9999)+1;return`JAL-${v}-${P}-${_.toString().padStart(4,"0")}`},g=async()=>{l(!0);try{await new Promise(P=>setTimeout(P,2e3));const b=f(),v={id:Date.now().toString(),businessName:n.businessName,businessAddress:n.businessAddress,ward:n.ward,subArea:n.subArea,customerCategory:n.customerCategory,phoneNumber:n.phoneNumber,latitude:n.latitude,longitude:n.longitude,verificationStatus:"Pending",shopPhoto:n.shopPhoto?URL.createObjectURL(n.shopPhoto):void 0,createdAt:new Date,hasPin:!1,beverCode:b};t(v),a("/home")}catch(b){console.error("Registration failed:",b)}finally{l(!1)}},x=()=>{s<3?r(s+1):g()},S=()=>{s>1&&r(s-1)},w=()=>{switch(s){case 1:return n.businessName&&n.businessAddress&&n.ward&&n.customerCategory&&n.phoneNumber&&n.isAtDeliveryLocation;case 2:return n.shopPhoto;case 3:return!0;default:return!1}},C=Ne.wards.find(b=>b.name===n.ward);return e.jsxs("div",{className:"min-h-screen bg-white mb-16",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:s===1?()=>a("/login"):S,className:"p-2 hover:bg-primary-100 rounded-xl transition-colors",children:e.jsx(oe,{className:"w-6 h-6 text-primary-700"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-lg font-semibold text-primary-950",children:"Register"}),e.jsxs("p",{className:"text-sm text-primary-600",children:["Step ",s," of 3"]})]}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"mt-4 bg-primary-100 rounded-full h-2",children:e.jsx(A.div,{className:"bg-primary-950 h-2 rounded-full",initial:{width:"33%"},animate:{width:`${s/3*100}%`},transition:{duration:.3}})})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs(he,{mode:"wait",children:[s===1&&e.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Business Information"}),e.jsx("p",{className:"text-primary-600",children:"Tell us about your business"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Are you at your delivery location *"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"isAtDeliveryLocation",value:"yes",onChange:b=>{u(b),p()},checked:n.isAtDeliveryLocation==="yes",className:"radio-input"}),e.jsx("span",{children:"Yes"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"isAtDeliveryLocation",value:"no",onChange:u,checked:n.isAtDeliveryLocation==="no",className:"radio-input"}),e.jsx("span",{children:"No"})]})]}),e.jsx("p",{className:"text-sm text-primary-600 mt-2",children:'We use your location to ensure precise delivery to your shop, restaurant, or hotel. Please enable location access if you select "Yes."'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Business/Shop Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-400"}),e.jsx("input",{type:"text",name:"businessName",value:n.businessName,onChange:u,placeholder:"Enter business name",className:"input-field pl-12",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Business Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-3 w-5 h-5 text-primary-400"}),e.jsx("textarea",{name:"businessAddress",value:n.businessAddress,onChange:u,placeholder:"Street address, landmark",className:"input-field pl-12 min-h-[80px] resize-none",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Ward *"}),e.jsxs("select",{name:"ward",value:n.ward,onChange:u,className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select Ward"}),Ne.wards.map(b=>e.jsx("option",{value:b.name,children:b.name},b.code))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Sub Area"}),e.jsxs("select",{name:"subArea",value:n.subArea,onChange:u,className:"input-field",disabled:!C,children:[e.jsx("option",{value:"",children:"Select Sub Area"}),C==null?void 0:C.sub_areas.map(b=>e.jsx("option",{value:b,children:b},b))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Customer Category *"}),o.length===0?e.jsx("div",{className:"flex justify-center items-center h-16 border-2 border-primary-200 rounded-xl text-primary-600",children:"No categories available"}):e.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map(b=>e.jsx("button",{type:"button",onClick:()=>c(v=>({...v,customerCategory:b.name})),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${n.customerCategory===b.name?"border-primary-950 bg-primary-950 text-white":"border-primary-200 text-primary-700 hover:border-primary-300"}`,children:b.name},b.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(et,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-400"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:n.phoneNumber,onChange:u,placeholder:"08012345678",className:"input-field pl-12",required:!0})]})]})]})]},"step1"),s===2&&e.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Shop Photo"}),e.jsx("p",{className:"text-primary-600",children:"Upload a clear photo of your shop's entrance or facade"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-primary-200 rounded-2xl p-8 text-center",children:n.shopPhoto?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-200 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ee,{className:"w-10 h-10 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary-950",children:"Photo uploaded successfully"}),e.jsx("p",{className:"text-sm text-primary-600",children:n.shopPhoto.name})]}),e.jsx("button",{type:"button",onClick:()=>c(b=>({...b,shopPhoto:null})),className:"btn-secondary",children:"Change Photo"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Z,{className:"w-10 h-10 text-primary-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary-950 mb-2",children:"Upload Shop Photo"}),e.jsx("p",{className:"text-sm text-primary-600 mb-4",children:"Take a clear photo showing your shop's building or entrance"}),e.jsxs("label",{className:"btn-primary cursor-pointer",children:["Choose Photo",e.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden"})]})]})]})}),e.jsxs("div",{className:"bg-accent-50 border border-primary-200 rounded-xl p-4",children:[e.jsx("h4",{className:"font-medium text-accent mb-2",children:"Photo Guidelines:"}),e.jsxs("ul",{className:"text-sm text-accent space-y-1",children:[e.jsx("li",{children:"• Ensure the shop name/signage is visible"}),e.jsx("li",{children:"• Take the photo during daylight for clarity"}),e.jsx("li",{children:"• Include the full entrance or facade"}),e.jsx("li",{children:"• Avoid blurry or dark images"})]})]})]})]},"step2"),s===3&&e.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Review Information"}),e.jsx("p",{className:"text-primary-600",children:"Please review your information before submitting"})]}),e.jsxs("div",{className:"card space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-primary-950 mb-3",children:"Business Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Business Name:"}),e.jsx("span",{className:"text-primary-950 font-medium",children:n.businessName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Category:"}),e.jsx("span",{className:"text-primary-950 font-medium",children:n.customerCategory})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Ward:"}),e.jsx("span",{className:"text-primary-950 font-medium",children:n.ward})]}),n.subArea&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Sub Area:"}),e.jsx("span",{className:"text-primary-950 font-medium",children:n.subArea})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Phone:"}),e.jsx("span",{className:"text-primary-950 font-medium",children:n.phoneNumber})]})]})]}),e.jsx("div",{className:"border-t border-primary-100 pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-primary-600",children:"Shop Photo:"}),e.jsx("span",{className:"text-accent font-medium",children:"✓ Uploaded"})]})})]}),e.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-4",children:[e.jsx("h4",{className:"font-medium text-primary-950 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-primary-700 space-y-1",children:[e.jsx("li",{children:"• You'll receive a unique Bever Code"}),e.jsx("li",{children:"• Your account will be pending verification"}),e.jsx("li",{children:"• You can start browsing and ordering immediately"}),e.jsx("li",{children:"• Verification typically takes 24-48 hours"})]})]})]},"step3")]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-primary-100 p-6",children:e.jsx("button",{onClick:x,disabled:!w()||i,className:"btn-primary w-full",children:i?"Creating Account...":s===3?"Create Account":"Continue"})})]})]})},pa=()=>{const{user:a}=U(),{addItem:t,updateQuantity:s,getCartItemsWithDetails:r}=te(),[i,l]=y.useState(""),[n,c]=y.useState(""),[o,m]=y.useState([]),[u,p]=y.useState([]),[d,f]=y.useState([]),[g,x]=y.useState([]),[S,w]=y.useState(!1),C=r(),b=y.useMemo(()=>ke.filter(h=>{const j=h.name.toLowerCase().includes(i.toLowerCase())||h.brand.toLowerCase().includes(i.toLowerCase()),N=!n||h.category===n,F=o.length===0||o.includes(h.brand),D=u.length===0||u.includes(h.volume),ye=d.length===0||d.includes(h.packaging),be=g.length===0||g.includes(h.unit);return j&&N&&F&&D&&ye&&be}),[i,n,o,u,d,g]),v=h=>{const j=C.find(N=>N.productId===h);return(j==null?void 0:j.quantity)||0},P=(h,j)=>{const N=v(h),F=N+j;F<=0?s(h,0):N===0?t(h,j):s(h,F)},_=()=>{c(""),m([]),p([]),f([]),x([])},$=[n,...o,...u,...d,...g].filter(Boolean).length,B=n?It[n]||[]:[];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 z-10",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h1",{className:"text-2xl font-bold text-primary-950",children:["Welcome back, ",a==null?void 0:a.businessName]}),e.jsx("p",{className:"text-primary-600",children:"What would you like to order today?"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-400"}),e.jsx("input",{type:"search",value:i,onChange:h=>l(h.target.value),placeholder:"Search beverages...",className:"input-field pl-12 pr-16"}),e.jsxs("button",{onClick:()=>w(!S),className:`absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-lg transition-colors ${S?"bg-primary-950 text-white":"text-primary-400 hover:bg-primary-100"}`,children:[e.jsx(es,{className:"w-4 h-4"}),$>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:$})]})]}),S&&e.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 pb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2",children:"Category"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Dt.map(h=>e.jsx("button",{onClick:()=>{c(n===h?"":h),m([])},className:`px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${n===h?"bg-primary-950 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:h},h))})]}),B.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2",children:"Brand"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:B.map(h=>e.jsx("button",{onClick:()=>{m(j=>j.includes(h)?j.filter(N=>N!==h):[...j,h])},className:`px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${o.includes(h)?"bg-primary-950 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:h},h))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2",children:"Volume"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Mt.map(h=>e.jsx("button",{onClick:()=>{p(j=>j.includes(h)?j.filter(N=>N!==h):[...j,h])},className:`px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${u.includes(h)?"bg-primary-950 text-white":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:h},h))})]}),$>0&&e.jsxs("button",{onClick:_,className:"text-sm text-primary-600 hover:text-primary-950 font-medium",children:["Clear all filters (",$,")"]})]})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("p",{className:"text-primary-600",children:[b.length," product",b.length!==1?"s":""," found"]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map(h=>{const j=v(h.id);return e.jsxs(A.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card p-4",children:[e.jsx("div",{className:"aspect-square bg-primary-50 rounded-xl mb-3 overflow-hidden",children:e.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-primary-950 text-sm leading-tight",children:h.name}),e.jsxs("p",{className:"text-xs text-primary-600",children:[h.volume," • ",h.packaging,h.packSize&&` • ${h.packSize}pcs`]})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[e.jsxs("span",{className:"font-bold text-primary-950",children:["₦",h.price.toLocaleString()]}),j>0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>P(h.id,-1),className:"w-8 h-8 bg-primary-100 hover:bg-primary-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Pe,{className:"w-4 h-4 text-primary-700"})}),e.jsx("span",{className:"font-medium text-primary-950 min-w-[20px] text-center",children:j}),e.jsx("button",{onClick:()=>P(h.id,1),className:"w-8 h-8 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>P(h.id,1),className:"w-8 h-8 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"sm:hidden space-y-2",children:[e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"font-bold text-primary-950",children:["₦",h.price.toLocaleString()]})}),j>0?e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("button",{onClick:()=>P(h.id,-1),className:"flex-1 h-10 bg-primary-100 hover:bg-primary-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Pe,{className:"w-4 h-4 text-primary-700"})}),e.jsx("span",{className:"font-medium text-primary-950 min-w-[40px] text-center text-lg",children:j}),e.jsx("button",{onClick:()=>P(h.id,1),className:"flex-1 h-10 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]}):e.jsxs("button",{onClick:()=>P(h.id,1),className:"w-full h-10 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Add to Cart"})]})]})]})]},h.id)})}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ce,{className:"w-10 h-10 text-primary-400"})}),e.jsx("h3",{className:"text-lg font-medium text-primary-950 mb-2",children:"No products found"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Try adjusting your search or filters"}),$>0&&e.jsx("button",{onClick:_,className:"btn-secondary",children:"Clear Filters"})]})]})]})},fa=()=>{const a=ue(),{getCartItemsWithDetails:t,updateQuantity:s,removeItem:r,getTotalPrice:i,getTotalItems:l}=te(),n=t(),c=i(),o=l(),m=c>5e3?0:500,u=c+m,p=(d,f)=>{f<=0?r(d):s(d,f)};return n.length===0?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/home"),className:"p-2 hover:bg-primary-100 rounded-xl transition-colors",children:e.jsx(oe,{className:"w-6 h-6 text-primary-700"})}),e.jsx("h1",{className:"text-xl font-bold text-primary-950",children:"Your Cart"})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-20",children:[e.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(ls,{className:"w-12 h-12 text-primary-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-primary-600 text-center mb-8",children:"Add some beverages to get started"}),e.jsx("button",{onClick:()=>a("/home"),className:"btn-primary",children:"Start Shopping"})]})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/home"),className:"p-2 hover:bg-primary-100 rounded-xl transition-colors",children:e.jsx(oe,{className:"w-6 h-6 text-primary-700"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-primary-950",children:"Your Cart"}),e.jsxs("p",{className:"text-sm text-primary-600",children:[o," items"]})]})]})}),e.jsx("div",{className:"px-6 py-6 pb-60",children:e.jsx("div",{className:"space-y-4",children:n.map(({productId:d,quantity:f,product:g})=>e.jsx(A.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-50 rounded-xl overflow-hidden flex-shrink-0",children:e.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-primary-950 leading-tight",children:g.name}),e.jsxs("p",{className:"text-sm text-primary-600",children:[g.volume," • ",g.packaging,g.packSize&&` • Pack of ${g.packSize}`]})]}),e.jsx("button",{onClick:()=>r(d),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Lt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-bold text-primary-950",children:["₦",(g.price*f).toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>p(d,f-1),className:"w-8 h-8 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-medium text-primary-950 min-w-[20px] text-center",children:f}),e.jsx("button",{onClick:()=>p(d,f+1),className:"w-8 h-8 bg-accent hover:bg-accent text-white rounded-lg flex items-center justify-center transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})]})]})]})},d))})}),e.jsxs("div",{className:"fixed bottom-20 left-0 right-0 bg-white border-t border-primary-200 px-6 py-4 z-30",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-primary-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["₦",c.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-primary-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:m===0?"Free":`₦${m.toLocaleString()}`})]}),m===0&&e.jsx("p",{className:"text-xs text-accent",children:"Free delivery on orders above ₦5,000"}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-primary-950 pt-2 border-t border-primary-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",u.toLocaleString()]})]})]}),e.jsx("button",{onClick:()=>a("/checkout"),className:"btn-primary w-full",children:"Checkout"})]})]})},vt="bever:client_orders:v1";async function Nt(){await new Promise(a=>setTimeout(a,80));try{const a=localStorage.getItem(vt);return a?JSON.parse(a):[]}catch(a){return console.error("Failed to read client orders from storage",a),[]}}async function ya(a){await new Promise(t=>setTimeout(t,120));try{const t=await Nt(),s={id:`ORD-${Math.floor(Math.random()*9e5+1e3)}`,createdAt:new Date().toISOString(),...a};return t.unshift(s),localStorage.setItem(vt,JSON.stringify(t)),s}catch(t){throw console.error("Failed to save client order",t),t}}const ba=()=>{const a=ue(),{user:t}=U(),{getCartItemsWithDetails:s,getTotalPrice:r,clearCart:i}=te(),[l,n]=y.useState("transfer"),[c,o]=y.useState(!1),[m,u]=y.useState(!1),[p,d]=y.useState(!1),[f,g]=y.useState(!1),[x,S]=y.useState(!1),w=s(),C=r(),b=C>5e3?0:500,v=C+b,P={accountNumber:"1234567890",bankName:"Providus Bank",accountName:"Bever Payments"},_=()=>{navigator.clipboard.writeText(P.accountNumber),d(!0),setTimeout(()=>d(!1),2e3)},$=async()=>{o(!0);try{await new Promise(h=>setTimeout(h,2e3));try{const h={userId:(t==null?void 0:t.id)||"guest",items:w.map(({productId:j,quantity:N,product:F})=>({productId:j,quantity:N,price:F.price})),total:v,status:"Placed",paymentMethod:l==="transfer"?"Transfer":"Pay on Delivery",deliveryAddress:(t==null?void 0:t.businessAddress)||"",deliveredAt:null};await ya(h);try{const j=w.reduce((N,F)=>N+F.quantity,0);await Rt({userName:(t==null?void 0:t.businessName)||(t==null?void 0:t.phoneNumber)||(t==null?void 0:t.beverCode)||"Guest",items:j,amount:v,status:"pending",paymentStatus:l==="transfer"?"pending":"completed",deliveryCategory:"standard"})}catch(j){console.warn("Failed to create admin order record",j)}}catch(h){console.error("Failed to persist client order",h)}i(),u(!0),setTimeout(()=>{a("/home")},3e3)}catch(h){console.error("Order failed:",h)}finally{o(!1)}},B=async()=>{g(!0);try{await new Promise(h=>setTimeout(h,5e3)),S(!0)}finally{g(!1)}};return y.useEffect(()=>{if(!x)return;const h="lottie-player-script";if(!document.getElementById(h)){const j=document.createElement("script");j.id=h,j.src="https://unpkg.com/@lottiefiles/lottie-player@1.5.7/dist/lottie-player.js",j.async=!0,document.body.appendChild(j)}},[x]),m?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center px-6",children:e.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ee,{className:"w-10 h-10 text-accent"})}),e.jsx("h2",{className:"text-2xl font-bold text-primary-950 mb-2",children:"Order Placed!"}),e.jsx("p",{className:"text-primary-600 mb-4",children:"Your order has been received and is being processed"}),e.jsx("p",{className:"text-sm text-primary-500",children:"Redirecting to home..."})]})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/cart"),className:"p-2 hover:bg-primary-100 rounded-xl transition-colors",children:e.jsx(oe,{className:"w-6 h-6 text-primary-700"})}),e.jsx("h1",{className:"text-xl font-bold text-primary-950",children:"Checkout"})]})}),e.jsxs("div",{className:"px-6 py-6 pb-32",children:[e.jsx("div",{className:"card mb-6",children:e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(xe,{className:"w-5 h-5 text-primary-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-primary-950 mb-1",children:"Delivery Address"}),e.jsx("p",{className:"text-primary-700",children:t==null?void 0:t.businessName}),e.jsx("p",{className:"text-primary-600 text-sm",children:t==null?void 0:t.businessAddress}),e.jsxs("p",{className:"text-primary-600 text-sm",children:[t==null?void 0:t.ward,", Jalingo"]})]})]})}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"font-medium text-primary-950 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[w.map(({productId:h,quantity:j,product:N})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-primary-950",children:N.name}),e.jsxs("p",{className:"text-sm text-primary-600",children:[N.volume," • Qty: ",j]})]}),e.jsxs("span",{className:"font-medium text-primary-950",children:["₦",(N.price*j).toLocaleString()]})]},h)),e.jsxs("div",{className:"border-t border-primary-200 pt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-primary-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["₦",C.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-primary-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:b===0?"Free":`₦${b.toLocaleString()}`})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-primary-950 pt-2 border-t border-primary-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",v.toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"font-medium text-primary-950 mb-4",children:"Payment Method"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>n("transfer"),className:`w-full p-4 rounded-xl border-2 transition-all ${l==="transfer"?"border-primary-950 bg-primary-50":"border-primary-200 hover:border-primary-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${l==="transfer"?"border-primary-950":"border-primary-300"}`,children:l==="transfer"&&e.jsx("div",{className:"w-2.5 h-2.5 bg-primary-950 rounded-full"})}),e.jsx(Xt,{className:"w-6 h-6 text-primary-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-primary-950",children:"Bank Transfer"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Pay via bank transfer"})]})]})}),e.jsx("button",{onClick:()=>n("cash"),className:`w-full p-4 rounded-xl border-2 transition-all ${l==="cash"?"border-primary-950 bg-primary-50":"border-primary-200 hover:border-primary-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${l==="cash"?"border-primary-950":"border-primary-300"}`,children:l==="cash"&&e.jsx("div",{className:"w-2.5 h-2.5 bg-primary-950 rounded-full"})}),e.jsx(Zt,{className:"w-6 h-6 text-primary-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-primary-950",children:"Pay on Delivery"}),e.jsx("p",{className:"text-sm text-primary-600",children:"Pay with cash when delivered"})]})]})})]}),l==="transfer"&&e.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-accent-50 border border-primary-200 rounded-xl",children:[e.jsx("h4",{className:"font-medium text-accent mb-3",children:"Transfer Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-accent",children:"Account Number:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono font-medium text-accent",children:P.accountNumber}),e.jsx("button",{onClick:_,className:"p-1 text-accent hover:text-accent transition-colors",children:p?e.jsx(ee,{className:"w-4 h-4"}):e.jsx(lt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-accent",children:"Bank:"}),e.jsx("span",{className:"font-medium text-accent",children:P.bankName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-accent",children:"Account Name:"}),e.jsx("span",{className:"font-medium text-accent",children:P.accountName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-accent",children:"Amount:"}),e.jsxs("span",{className:"font-bold text-accent",children:["₦",v.toLocaleString()]})]})]}),e.jsx("p",{className:"text-xs text-accent mt-3",children:"Transfer the exact amount to complete your order. Your order will be confirmed automatically."})]}),l==="transfer"&&e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:B,disabled:f,className:"w-full btn-primary flex items-center justify-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):"I have made payment"})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-primary-200 px-6 py-4",style:{paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)"},children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx("button",{onClick:$,disabled:c,className:"w-full btn-primary",children:c?"Processing Order...":`Place Order • ₦${v.toLocaleString()}`})})}),x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 text-center",children:[e.jsx("lottie-player",{src:"/Lottie-Animation.json",background:"transparent",speed:"1",style:{width:"240px",height:"240px",margin:"0 auto"},autoplay:!0}),e.jsx("h3",{className:"mt-4 text-xl font-semibold text-primary-950",children:"Payment Verified"}),e.jsx("p",{className:"text-primary-600 mt-2",children:"We received your payment. Your order will be confirmed shortly."}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("button",{onClick:()=>{S(!1),$()},className:"btn-primary",children:"Continue"})})]})})]})},ga=()=>{const{addItem:a}=te(),[t,s]=y.useState(""),[r,i]=y.useState(null),[l,n]=y.useState([]),[c,o]=y.useState(!0);y.useEffect(()=>{let x=!0;return(async()=>{o(!0);const S=await Nt();x&&(n(S),o(!1))})(),()=>{x=!1}},[]);const m=l.filter(x=>x.id.toLowerCase().includes(t.toLowerCase())),u=x=>{switch(x){case"Delivered":return"bg-primary-200 text-accent";case"Processing":return"bg-blue-100 text-blue-700";case"Placed":return"bg-orange-100 text-orange-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-primary-100 text-primary-700"}},p=x=>{switch(x){case"Delivered":return e.jsx(Ut,{className:"w-3 h-3"});case"Processing":return e.jsx(zt,{className:"w-3 h-3"});case"Placed":return e.jsx(ne,{className:"w-3 h-3"});case"Cancelled":return e.jsx(os,{className:"w-3 h-3"});default:return e.jsx(ne,{className:"w-3 h-3"})}},d=x=>{x.items.forEach(S=>{a(S.productId,S.quantity)}),alert("Items added to cart successfully!")},f=x=>{const S=new Date(x);return S.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})+", "+S.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})},g=x=>({"eva-water-75cl-pack":"Eva Water 75cl Pack","coca-cola-33cl-pack":"Coca-Cola 33cl Pack","pepsi-33cl-pack":"Pepsi 33cl Pack","chivita-1l-pack":"Chivita Active Orange 1L","fanta-35cl-pack":"Fanta Orange 35cl Pack","eva-water-1.5l-pack":"Eva Water 1.5L Pack","monster-50cl-pack":"Monster Energy 50cl Pack","sprite-35cl-pack":"Sprite 35cl Pack"})[x]||"Unknown Product";return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 z-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-950",children:"Orders"}),e.jsx("p",{className:"text-primary-600",children:"Track your beverage orders"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-400"}),e.jsx("input",{type:"text",value:t,onChange:x=>s(x.target.value),placeholder:"Search Order ID",className:"input-field pl-12"})]})]}),e.jsx("div",{className:"px-6 py-6 pb-32",children:c?e.jsx("div",{className:"text-center py-12",children:"Loading..."}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"w-10 h-10 text-primary-400"})}),e.jsx("h3",{className:"text-lg font-medium text-primary-950",children:"No orders found"}),e.jsx("p",{className:"text-primary-600",children:"You haven't placed any orders yet"})]}):e.jsx("div",{className:"space-y-4",children:m.map(x=>e.jsxs(A.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(x),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-mono font-bold text-primary-950",children:x.id}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${u(x.status)}`,children:[p(x.status),x.status]})]}),e.jsx("p",{className:"text-sm text-primary-600",children:f(x.createdAt)})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"font-bold text-lg text-accent",children:["₦",x.total.toLocaleString()]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-primary-600",children:[x.items.length," item",x.items.length!==1?"s":""," •"," ",x.paymentMethod]}),e.jsxs("button",{onClick:S=>{S.stopPropagation(),d(x)},className:"flex items-center gap-2 px-3 py-1.5 bg-accent hover:bg-accent text-white text-sm font-medium rounded-lg transition-colors",children:[e.jsx(Be,{className:"w-4 h-4"}),"Reorder"]})]})]},x.id))})}),e.jsx(he,{children:r&&e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end",onClick:()=>i(null),children:e.jsxs(A.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-t-3xl w-full max-h-[80vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-primary-100 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-primary-950",children:"Order Details"}),e.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 bg-accent hover:bg-accent text-white rounded-full flex items-center justify-center transition-colors",children:e.jsx(Oe,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-mono font-bold text-lg text-primary-950",children:r.id}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-sm font-medium rounded-full ${u(r.status)}`,children:[p(r.status),r.status]})]}),e.jsx("p",{className:"text-primary-600",children:f(r.createdAt)}),r.deliveredAt&&e.jsxs("p",{className:"text-sm text-accent",children:["Delivered: ",f(r.deliveredAt)]})]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-primary-950",children:"Items Ordered"}),r.items.map((x,S)=>e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"font-medium text-primary-950",children:[x.quantity,"x ",g(x.productId)]})}),e.jsxs("span",{className:"font-medium text-primary-950",children:["₦",(x.price*x.quantity).toLocaleString()]})]},S))]}),e.jsxs("div",{className:"border-t border-primary-200 pt-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-primary-700",children:"Payment Method:"}),e.jsx("span",{className:"font-medium text-primary-950",children:r.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-primary-700",children:"Delivery Address:"}),e.jsx("span",{className:"font-medium text-primary-950 text-right max-w-[200px]",children:r.deliveryAddress})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold text-accent pt-2 border-t border-primary-200",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",r.total.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>d(r),className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5"}),"Reorder"]}),e.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center gap-2",children:[e.jsx(tt,{className:"w-5 h-5"}),"Rate Order"]})]})]})]})})})]})},se=({isOpen:a,onClose:t,title:s,children:r,size:i="md"})=>{const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"};return e.jsx(he,{children:a&&e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:e.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:n=>n.stopPropagation(),className:`bg-white rounded-2xl p-6 w-full ${l[i]} max-h-[90vh] overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-950",children:s}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-primary-50 rounded-lg transition-colors",children:e.jsx(Oe,{className:"w-5 h-5 text-primary-600"})})]}),r]})})})},ja=({isOpen:a,onClose:t,user:s,onSave:r})=>{const[i,l]=y.useState({businessName:(s==null?void 0:s.businessName)||"",customerCategory:(s==null?void 0:s.customerCategory)||"",businessAddress:(s==null?void 0:s.businessAddress)||"",ward:(s==null?void 0:s.ward)||"",subArea:(s==null?void 0:s.subArea)||""}),[n,c]=y.useState(!1),[o,m]=y.useState({}),u=()=>{const d={};return i.businessName.trim()||(d.businessName="Business name is required"),i.customerCategory.trim()||(d.customerCategory="Customer category is required"),i.businessAddress.trim()||(d.businessAddress="Business address is required"),i.ward.trim()||(d.ward="Ward is required"),m(d),Object.keys(d).length===0},p=async()=>{if(u()){c(!0);try{await r(i),t()}catch(d){console.error("Failed to update profile:",d)}finally{c(!1)}}};return e.jsx(se,{isOpen:a,onClose:t,title:"Edit Profile",size:"lg",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-primary-950 mb-2",children:[e.jsx(Te,{className:"w-4 h-4 inline mr-2"}),"Business Name"]}),e.jsx("input",{type:"text",value:i.businessName,onChange:d=>l(f=>({...f,businessName:d.target.value})),className:`input-field ${o.businessName?"border-red-500":""}`,placeholder:"Enter your business name"}),o.businessName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.businessName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-primary-950 mb-2",children:[e.jsx(nt,{className:"w-4 h-4 inline mr-2"}),"Customer Category"]}),e.jsxs("select",{value:i.customerCategory,onChange:d=>l(f=>({...f,customerCategory:d.target.value})),className:`input-field ${o.customerCategory?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Retailer",children:"Retailer"}),e.jsx("option",{value:"Wholesaler",children:"Wholesaler"}),e.jsx("option",{value:"Restaurant",children:"Restaurant"}),e.jsx("option",{value:"Hotel",children:"Hotel"}),e.jsx("option",{value:"Supermarket",children:"Supermarket"})]}),o.customerCategory&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.customerCategory})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-primary-950 mb-2",children:[e.jsx(xe,{className:"w-4 h-4 inline mr-2"}),"Business Address"]}),e.jsx("input",{type:"text",value:i.businessAddress,onChange:d=>l(f=>({...f,businessAddress:d.target.value})),className:`input-field ${o.businessAddress?"border-red-500":""}`,placeholder:"Enter your business address"}),o.businessAddress&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.businessAddress})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-950 mb-2",children:"Ward"}),e.jsx("input",{type:"text",value:i.ward,onChange:d=>l(f=>({...f,ward:d.target.value})),className:`input-field ${o.ward?"border-red-500":""}`,placeholder:"Enter ward"}),o.ward&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.ward})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-primary-950 mb-2",children:"Sub Area"}),e.jsx("input",{type:"text",value:i.subArea,onChange:d=>l(f=>({...f,subArea:d.target.value})),className:"input-field",placeholder:"Enter sub area"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:t,className:"btn-secondary flex-1",disabled:n,children:"Cancel"}),e.jsx("button",{onClick:p,className:"btn-primary flex-1",disabled:n,children:n?"Saving...":"Save Changes"})]})]})})},we=({isOpen:a,onClose:t,title:s,currentPhoto:r,onSave:i,aspectRatio:l="square"})=>{const[n,c]=y.useState(null),[o,m]=y.useState(null),[u,p]=y.useState(!1),d=y.useRef(null),f=w=>{if(w&&w.type.startsWith("image/")){m(w);const C=new FileReader;C.onload=b=>{var v;c((v=b.target)==null?void 0:v.result)},C.readAsDataURL(w)}},g=w=>{w.preventDefault();const C=w.dataTransfer.files[0];C&&f(C)},x=async()=>{if(o){p(!0);try{await i(o),t(),c(null),m(null)}catch(w){console.error("Failed to upload photo:",w)}finally{p(!1)}}},S=l==="cover"?"aspect-video":"aspect-square";return e.jsx(se,{isOpen:a,onClose:t,title:s,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`${S} border-2 border-dashed border-primary-200 rounded-xl overflow-hidden bg-primary-50 relative`,onDrop:g,onDragOver:w=>w.preventDefault(),children:[n||r?e.jsx("img",{src:n||r,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-primary-600",children:[e.jsx(Z,{className:"w-12 h-12 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Drop image here or click to upload"}),e.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"JPG, PNG up to 5MB"})]}),(n||r)&&e.jsx("button",{onClick:()=>{c(null),m(null)},className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full hover:bg-black/70",children:e.jsx(Oe,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:()=>{var w;return(w=d.current)==null?void 0:w.click()},className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-primary-200 text-primary-700 rounded-xl hover:bg-primary-50 transition-colors",children:[e.jsx(qt,{className:"w-5 h-5"}),"Choose Photo"]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",className:"hidden",onChange:w=>{var b;const C=(b=w.target.files)==null?void 0:b[0];C&&f(C)}}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:t,className:"btn-secondary flex-1",disabled:u,children:"Cancel"}),e.jsx("button",{onClick:x,className:"btn-primary flex-1",disabled:!o||u,children:u?"Uploading...":"Save Photo"})]})]})})},va=({isOpen:a,onClose:t,settings:s,onSave:r})=>{const[i,l]=y.useState(s),[n,c]=y.useState(!1),o=async()=>{c(!0);try{await r(i),t()}catch(m){console.error("Failed to save settings:",m)}finally{c(!1)}};return e.jsx(se,{isOpen:a,onClose:t,title:"Settings & Preferences",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-medium text-primary-950 mb-3",children:[e.jsx(Vt,{className:"w-5 h-5"}),"Notifications"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(i.notifications).map(([m,u])=>e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-primary-700",children:[m==="orderUpdates"&&"Order Updates",m==="promotions"&&"Promotions & Offers",m==="deliveryAlerts"&&"Delivery Alerts"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:p=>l(d=>({...d,notifications:{...d.notifications,[m]:p.target.checked}})),className:"sr-only"}),e.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${u?"bg-accent":"bg-primary-200"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ease-in-out ${u?"translate-x-5":"translate-x-1"} mt-1`})})]})]},String(m)))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-medium text-primary-950 mb-3",children:[e.jsx(ss,{className:"w-5 h-5"}),"App Preferences"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-700 mb-2",children:"Language"}),e.jsxs("select",{value:i.app.language,onChange:m=>l(u=>({...u,app:{...u.app,language:m.target.value}})),className:"input-field",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ha",children:"Hausa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-700 mb-2",children:"Default Delivery Time"}),e.jsxs("select",{value:i.app.defaultDeliveryTime,onChange:m=>l(u=>({...u,app:{...u.app,defaultDeliveryTime:m.target.value}})),className:"input-field",children:[e.jsx("option",{value:"morning",children:"Morning (8AM - 12PM)"}),e.jsx("option",{value:"afternoon",children:"Afternoon (12PM - 6PM)"}),e.jsx("option",{value:"evening",children:"Evening (6PM - 9PM)"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-medium text-primary-950 mb-3",children:[e.jsx(Ae,{className:"w-5 h-5"}),"Privacy"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-primary-700",children:"Profile Visibility"}),e.jsxs("select",{value:i.privacy.profileVisibility,onChange:m=>l(u=>({...u,privacy:{...u.privacy,profileVisibility:m.target.value}})),className:"input-field w-32",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"})]})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-primary-700",children:"Data Sharing"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:i.privacy.dataSharing,onChange:m=>l(u=>({...u,privacy:{...u.privacy,dataSharing:m.target.checked}})),className:"sr-only"}),e.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${i.privacy.dataSharing?"bg-accent":"bg-primary-200"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 ease-in-out ${i.privacy.dataSharing?"translate-x-5":"translate-x-1"} mt-1`})})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-medium text-primary-950 mb-3",children:[e.jsx(cs,{className:"w-5 h-5"}),"Delivery Preferences"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-700 mb-2",children:"Default Address"}),e.jsx("input",{type:"text",value:i.delivery.defaultAddress,onChange:m=>l(u=>({...u,delivery:{...u.delivery,defaultAddress:m.target.value}})),className:"input-field",placeholder:"Enter default delivery address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-primary-700 mb-2",children:"Special Instructions"}),e.jsx("textarea",{value:i.delivery.specialInstructions,onChange:m=>l(u=>({...u,delivery:{...u.delivery,specialInstructions:m.target.value}})),className:"input-field",rows:3,placeholder:"Any special delivery instructions..."})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:t,className:"btn-secondary flex-1",disabled:n,children:"Cancel"}),e.jsx("button",{onClick:o,className:"btn-primary flex-1",disabled:n,children:n?"Saving...":"Save Settings"})]})]})})},Na=({isOpen:a,onClose:t,onConfirm:s})=>e.jsx(se,{isOpen:a,onClose:t,title:"Confirm Logout",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Yt,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-primary-950 mb-2",children:"Are you sure you want to logout?"}),e.jsx("p",{className:"text-primary-600 text-sm",children:"You'll need to sign in again to access your account. Any unsaved changes will be lost."})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{onClick:t,className:"btn-primary",children:"Cancel"}),e.jsxs("button",{onClick:s,className:"btn-secondary text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(st,{className:"w-4 h-4 mr-2 inline"}),"Logout"]})]})]})}),wa=({completion:a})=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-primary-950",children:"Profile Completion"}),e.jsxs("span",{className:"text-2xl font-bold text-accent",children:[a.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-primary-100 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-accent to-accent h-3 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),a.missingFields.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-primary-950 mb-2",children:"Complete your profile:"}),a.missingFields.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Kt,{className:"w-4 h-4 text-primary-400"}),e.jsx("span",{className:"text-primary-700",children:t})]},s))]}),a.percentage===100&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-accent bg-accent-50 p-3 rounded-lg",children:[e.jsx(Qt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Profile Complete! You're all set."})]})]}),ka=()=>{const{user:a,logout:t,updateUser:s}=U(),{hasPin:r,setPin:i,verifyPin:l,changePin:n}=_e(),[c,o]=y.useState(!1),[m,u]=y.useState(!1),[p,d]=y.useState(!1),[f,g]=y.useState(!1),[x,S]=y.useState(!1),[w,C]=y.useState(!1),[b,v]=y.useState(!1),[P,_]=y.useState(!1),[$,B]=y.useState("set"),[h,j]=y.useState({currentPin:"",newPin:"",confirmPin:"",showPins:!1}),[N,F]=y.useState(""),[D,ye]=y.useState(new Set),[be,wt]=y.useState({notifications:{orderUpdates:!0,promotions:!0,deliveryAlerts:!0},app:{theme:"light",language:"en",defaultDeliveryTime:"morning"},privacy:{profileVisibility:"public",dataSharing:!1},delivery:{defaultAddress:(a==null?void 0:a.businessAddress)||"",specialInstructions:""}}),kt={percentage:85,missingFields:["Shop Photo","Cover Photo"],completedSections:["Business Info","Contact","Verification"]},qe=()=>{a!=null&&a.beverCode&&(navigator.clipboard.writeText(a.beverCode),_(!0),setTimeout(()=>_(!1),2e3))},ge=k=>{const O=new Set(D);O.has(k)?O.delete(k):O.add(k),ye(O)},St=()=>{switch(a==null?void 0:a.verificationStatus){case"Verified":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-200 text-accent text-sm font-medium rounded-full",children:[e.jsx(ee,{className:"w-4 h-4"}),"Verified"]});case"Agent Visit":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Agent Visit"]});default:return e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-700 text-sm font-medium rounded-full",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Pending"]})}},Ve=k=>{B(k),v(!0),j({currentPin:"",newPin:"",confirmPin:"",showPins:!1}),F("")},Ct=k=>k.length<4?"weak":k.length<6?"medium":"strong",Pt=()=>{if($==="set"||$==="change"){const k=Ct(h.newPin),O={weak:"bg-red-500",medium:"bg-orange-500",strong:"bg-accent"};return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex gap-1 mb-1",children:[e.jsx("div",{className:`h-2 flex-1 rounded ${k==="weak"?O.weak:"bg-primary-200"}`}),e.jsx("div",{className:`h-2 flex-1 rounded ${k==="medium"||k==="strong"?O[k]:"bg-primary-200"}`}),e.jsx("div",{className:`h-2 flex-1 rounded ${k==="strong"?O.strong:"bg-primary-200"}`})]}),e.jsxs("p",{className:"text-xs text-primary-600",children:["PIN Strength: ",k.charAt(0).toUpperCase()+k.slice(1)]})]})}return null},At=()=>{if(F(""),$==="set"){if(h.newPin.length<4){F("PIN must be at least 4 digits");return}if(h.newPin!==h.confirmPin){F("PINs do not match");return}i(h.newPin),v(!1)}else if($==="change"){if(!l(h.currentPin)){F("Current PIN is incorrect");return}if(h.newPin.length<4){F("New PIN must be at least 4 digits");return}if(h.newPin!==h.confirmPin){F("New PINs do not match");return}n(h.currentPin,h.newPin)?v(!1):F("Failed to change PIN")}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-br from-primary-900 to-primary-950 relative overflow-hidden",style:{backgroundImage:a!=null&&a.coverPhoto?`url(${a.coverPhoto})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[(a==null?void 0:a.coverPhoto)&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("button",{onClick:()=>u(!0),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-lg hover:bg-black/70 transition-colors",children:e.jsx(Z,{className:"icon-responsive"})})]}),e.jsx("div",{className:"absolute -bottom-16 left-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full p-1 shadow-lg",children:e.jsx("div",{className:"w-full h-full bg-primary-100 rounded-full flex items-center justify-center overflow-hidden",children:a!=null&&a.avatar?e.jsx("img",{src:a.avatar,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Te,{className:"w-10 h-10 text-primary-600"})})}),e.jsx("button",{onClick:()=>d(!0),className:"absolute -bottom-1 -right-1 p-2 bg-accent text-white rounded-full shadow-lg hover:bg-accent transition-colors",children:e.jsx(Z,{className:"w-4 h-4"})})]})})]}),e.jsxs("div",{className:"pt-20 px-6 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-950 mb-1",children:a==null?void 0:a.businessName}),e.jsx("p",{className:"text-primary-600 mb-2",children:a==null?void 0:a.customerCategory}),St()]}),e.jsx("button",{onClick:()=>o(!0),className:"p-2 text-primary-600 hover:text-primary-950 hover:bg-primary-50 rounded-lg transition-colors",children:e.jsx(is,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-primary-50 rounded-xl",children:[e.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary-950",children:"127"}),e.jsx("div",{className:"text-sm sm:text-xs text-primary-600",children:"Orders"})]}),e.jsxs("div",{className:"text-center p-3 bg-accent-50 rounded-xl cursor-pointer hover:bg-primary-200 transition-colors",onClick:qe,children:[e.jsx("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-accent truncate",children:a==null?void 0:a.beverCode}),e.jsxs("div",{className:"text-sm sm:text-xs text-accent flex items-center justify-center gap-1",children:[P?e.jsx(ee,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(lt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"Bever Code"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-primary-50 rounded-xl",children:[e.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary-950",children:"4.8"}),e.jsx("div",{className:"text-sm sm:text-xs text-primary-600",children:"Rating"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(wa,{completion:kt}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-medium text-primary-950 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid-responsive-2 gap-3",children:[e.jsxs("button",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl hover:bg-primary-100 transition-colors",onClick:qe,children:[e.jsx(ns,{className:"icon-responsive text-primary-600"}),e.jsx("span",{className:"text-responsive font-medium text-primary-950",children:"Share Code"})]}),e.jsxs("button",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl hover:bg-primary-100 transition-colors",children:[e.jsx(as,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-primary-950",children:"Get Help"})]}),e.jsxs("button",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl hover:bg-primary-100 transition-colors",children:[e.jsx(tt,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-primary-950",children:"Rate App"})]}),e.jsxs("button",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-xl hover:bg-primary-100 transition-colors",children:[e.jsx(ts,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-primary-950",children:"Referrals"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("button",{onClick:()=>ge("business"),className:"w-full flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-primary-950",children:"Business Information"}),e.jsx(A.div,{animate:{rotate:D.has("business")?180:0},transition:{duration:.2},children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 border-r-2 border-b-2 border-primary-400 rotate-45 -translate-y-0.5"})})})]}),e.jsx(A.div,{initial:!1,animate:{height:D.has("business")?"auto":0,opacity:D.has("business")?1:0},className:"overflow-hidden",children:e.jsxs("div",{className:"space-y-4 pb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(xe,{className:"w-5 h-5 text-primary-600 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary-950",children:a==null?void 0:a.businessAddress}),e.jsxs("p",{className:"text-sm text-primary-600",children:[a==null?void 0:a.ward,", Jalingo"]}),(a==null?void 0:a.subArea)&&e.jsx("p",{className:"text-sm text-primary-600",children:a.subArea})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(et,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"text-primary-950",children:a==null?void 0:a.phoneNumber})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("button",{onClick:()=>ge("shop"),className:"w-full flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-primary-950",children:"Shop Photo"}),e.jsx(A.div,{animate:{rotate:D.has("shop")?180:0},transition:{duration:.2},children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 border-r-2 border-b-2 border-primary-400 rotate-45 -translate-y-0.5"})})})]}),e.jsx(A.div,{initial:!1,animate:{height:D.has("shop")?"auto":0,opacity:D.has("shop")?1:0},className:"overflow-hidden",children:a!=null&&a.shopPhoto?e.jsxs("div",{className:"aspect-video bg-primary-50 rounded-xl overflow-hidden relative mb-4",children:[e.jsx("img",{src:a.shopPhoto,alt:"Shop",className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 p-2 bg-black/50 text-white rounded-lg hover:bg-black/70 transition-colors",children:e.jsx(Z,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>g(!0),className:"w-full aspect-video bg-primary-50 rounded-xl flex items-center justify-center hover:bg-primary-100 transition-colors mb-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-8 h-8 text-primary-400 mx-auto mb-2"}),e.jsx("p",{className:"text-primary-600 text-sm font-medium",children:"Add Shop Photo"})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("button",{onClick:()=>ge("pin"),className:"w-full flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-primary-950",children:"Transaction PIN"}),e.jsx(A.div,{animate:{rotate:D.has("pin")?180:0},transition:{duration:.2},children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 border-r-2 border-b-2 border-primary-400 rotate-45 -translate-y-0.5"})})})]}),e.jsx(A.div,{initial:!1,animate:{height:D.has("pin")?"auto":0,opacity:D.has("pin")?1:0},className:"overflow-hidden",children:e.jsx("div",{className:"space-y-3 pb-4",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-accent-50 rounded-xl",children:[e.jsx(Se,{className:"w-5 h-5 text-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-accent font-medium",children:"PIN is secure"}),e.jsx("p",{className:"text-xs text-accent",children:"Last changed: 2 days ago"})]})]}),e.jsx("button",{onClick:()=>Ve("change"),className:"btn-secondary w-full",children:"Change PIN"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-xl",children:[e.jsx(Se,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-orange-800 font-medium",children:"No PIN set - Secure your transactions"})]}),e.jsx("button",{onClick:()=>Ve("set"),className:"btn-primary w-full",children:"Set Transaction PIN"})]})})})]}),e.jsx("div",{className:"card",children:e.jsxs("button",{onClick:()=>S(!0),className:"w-full flex items-center gap-3 p-4 hover:bg-primary-50 rounded-xl transition-colors",children:[e.jsx(Bt,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"font-medium text-primary-950",children:"Settings & Preferences"})]})}),e.jsxs("button",{onClick:()=>C(!0),className:"w-full flex items-center justify-center gap-3 p-4 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:[e.jsx(st,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),e.jsx(ja,{isOpen:c,onClose:()=>o(!1),user:a,onSave:s}),e.jsx(we,{isOpen:m,onClose:()=>u(!1),title:"Update Cover Photo",currentPhoto:a==null?void 0:a.coverPhoto,aspectRatio:"cover",onSave:k=>{const O=URL.createObjectURL(k);s({coverPhoto:O})}}),e.jsx(we,{isOpen:p,onClose:()=>d(!1),title:"Update Profile Photo",currentPhoto:a==null?void 0:a.avatar,aspectRatio:"square",onSave:k=>{const O=URL.createObjectURL(k);s({avatar:O})}}),e.jsx(we,{isOpen:f,onClose:()=>g(!1),title:"Update Shop Photo",currentPhoto:a==null?void 0:a.shopPhoto,aspectRatio:"cover",onSave:k=>{const O=URL.createObjectURL(k);s({shopPhoto:O})}}),e.jsx(va,{isOpen:x,onClose:()=>S(!1),settings:be,onSave:wt}),e.jsx(Na,{isOpen:w,onClose:()=>C(!1),onConfirm:t}),e.jsx(se,{isOpen:b,onClose:()=>v(!1),title:$==="set"?"Set Transaction PIN":"Change Transaction PIN",children:e.jsxs("div",{className:"space-y-4",children:[$==="change"&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.showPins?"text":"password",value:h.currentPin,onChange:k=>j(O=>({...O,currentPin:k.target.value})),placeholder:"Current PIN",className:"input-field pr-12",maxLength:6}),e.jsx("button",{type:"button",onClick:()=>j(k=>({...k,showPins:!k.showPins})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-primary-400",children:h.showPins?e.jsx(re,{className:"w-5 h-5"}):e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.showPins?"text":"password",value:h.newPin,onChange:k=>j(O=>({...O,newPin:k.target.value})),placeholder:$==="set"?"Enter PIN":"New PIN",className:"input-field pr-12",maxLength:6}),e.jsx("button",{type:"button",onClick:()=>j(k=>({...k,showPins:!k.showPins})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-primary-400",children:h.showPins?e.jsx(re,{className:"w-5 h-5"}):e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h.showPins?"text":"password",value:h.confirmPin,onChange:k=>j(O=>({...O,confirmPin:k.target.value})),placeholder:"Confirm PIN",className:"input-field pr-12",maxLength:6}),e.jsx("button",{type:"button",onClick:()=>j(k=>({...k,showPins:!k.showPins})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-primary-400",children:h.showPins?e.jsx(re,{className:"w-5 h-5"}):e.jsx(ie,{className:"w-5 h-5"})})]}),Pt(),N&&e.jsx("p",{className:"text-red-500 text-sm",children:N}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>v(!1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:At,className:"btn-primary flex-1",children:$==="set"?"Set PIN":"Change PIN"})]})]})})]})},Sa=()=>{const{isAuthenticated:a}=U(),{isSettingRequired:t}=_e();return e.jsxs(e.Fragment,{children:[e.jsxs(_t,{children:[e.jsx(M,{path:"/login",element:a?e.jsx(K,{to:"/home"}):e.jsx(ua,{})}),e.jsx(M,{path:"/register",element:a?e.jsx(K,{to:"/home"}):e.jsx(xa,{})}),e.jsx(M,{path:"/",element:e.jsx(K,{to:a?"/home":"/login"})}),e.jsxs(M,{path:"/",element:e.jsx(Ht,{children:e.jsx(ms,{})}),children:[e.jsx(M,{path:"home",element:e.jsx(pa,{})}),e.jsx(M,{path:"cart",element:e.jsx(fa,{})}),e.jsx(M,{path:"checkout",element:e.jsx(ba,{})}),e.jsx(M,{path:"orders",element:e.jsx(ga,{})}),e.jsx(M,{path:"profile",element:e.jsx(ka,{})})]}),e.jsx(M,{path:"*",element:e.jsx(K,{to:"/",replace:!0})})]}),e.jsx(ds,{isOpen:t})]})},Aa=()=>e.jsx(Gt,{children:e.jsx(Wt,{children:e.jsx(Jt,{children:e.jsx(Sa,{})})})});export{Aa as default};
